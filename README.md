# Luma
Luma Programming Language

## コンセプト

## 変更履歴
### [0.0.1] - 2025/11/01
- 環境構築
### [0.0.2] - 2025/11/01
- **変数宣言**
    - `var a; var b;` などのように変数宣言をすることができます。
    - 現在初期化・型指定には対応してません。
    - 代入もできないので変数と言っていいかなぞです。
### [0.0.3] - 2025/11/02
- **初期化付き変数宣言**
    - `var a = 5;` などのように変数を5で初期化することができます。
- **式**
    - `var a = 5 + 2;` などのように式を書いてその結果を代入数することができます。
    - 四則演算のみ対応しています。
### [0.1.0] - 2025/11/02
- **変数読み込み**
    - `var a = 3; var b = a + 2;` などのように変数を値のように読み込むことができます。
- **変数代入**
    - `var a = 3; a = 5;` などのように変数に新しく値を読み込ませることができます。
### [0.1.1] - 2025/11/02
- **比較演算**
    - `var a = 3; var b = 5; var c = a < b;` などのように比較式を使うことができます。
### [0.1.2] - 2025/11/02
- **If文**
    - `if a < b {...}` などのように条件分岐をすることができます。
    - `if ~ {...} else {...}` などのようにthenとelseでわけることもできます。
    - `if ~ {...} else if {...} else....` などのようにelse ifと書くこともできます。
### [0.2.0] - 2025/11/02
- **For文**
    - `for a < b {...}` などのように条件を満たす間処理を繰り返すことができます。
### [0.2.1] - 2025/11/02
- **入出力**
    - `input(a)` で入力することができます。
    - `print(a)` で出力することができます。
### [0.2.2] - 2025/11/02
- **関数宣言**
    - `fn add(){...}` で関数を宣言できます。
    - 現在、戻り値・引数は設定できません。
- **関数呼び出し**
    - `add()` で関数を呼び出すことができます。
### [0.3.0] - 2025/11/02
- **実行**
    - ./Luma ../tests/luma_sources/test.lumaなどでllvm irが表示されるのではなく、実行結果が出るようになりました。
- **エラー**
    - エラーの表示形式を変更しました。(Error: -> \[Error])
    - エラーが出たときに、エラー箇所(ASTにするときのエラーのみ)が出るようになりました。
### [0.3.1] - 2025/11/05
- **int**
    - 64bit整数型です。
    - 数値リテラルはintになります。
- **i32**
    - 32bit整数型です。
- **float**
    - 倍精度浮動小数型です。
    - 小数リテラルはfloatになります。
- **f32**
    - 単精度浮動小数点型です。
- **キャスト**
    - `value as type` とすることでキャストすることができます。
    - キャストは必ず明示する必要があります。(int + i32の場合、どちらかに合わせないといけない)
### [0.3.2] - 2025/11/05
- **セマンティック解析**
    - コードを作る前にエラーが出るようになりました。
### [0.3.3] - 2025/11/05
- **エラーメッセージ改良**
    - コンパイル時に -ja をつけると、エラーメッセージが日本語になります。
- **Readme追記**
### [0.4.0] - 2025/11/15
- **MIR**
    - LLVMに変換する前に、自作のMIRに変換するようになりました。
### [0.4.1] - 2025/11/16
- **配列**
    - `var a: int[5];` で長さが5の配列を宣言することができます。
    - `a[1];` で2番目の要素にアクセスできます。(0-indexedとなっています。)
### [0.4.2] - 2025/11/16
- **配列リテラル**
    - `var a: int[5] = [1,2,3,4,5];` で、初期化をすることができます。
    - `[1,2,3,4,5][0]` はできません。(配列アクセスのときに、前にIDENTIFIERが来ないといけないようにしているため)

## 構文予定


## コンパイラ構造
### コンパイル方法
#### ASTBuilder
- ANTLRからわたってきたデータを解析してAST(構文解析木)を作成
#### SemanticAnalysis
- ASTを受け取って、文法ミスが無いか、型が正しいか判定
- ASTのノードに追加情報を入れる
#### CodeGen
- SemanticAnaylsisを終えたノードを受け取って、コードを生成